<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday Puzzle Adventure</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Profile Picture Display (shown after capture) -->
    <div id="profilePicture" class="profile-picture hidden">
        <img id="profileImg" src="" alt="Profile">
    </div>

    <!-- Welcome Screen -->
    <div id="welcomeScreen" class="screen active">
        <div class="content">
            <h1>‚ö∞Ô∏è Birthday Puzzle Adventure üßõ</h1>
            <p>Welcome to your special birthday treasure hunt!</p>
            <p>Follow the clues and solve the riddles to reveal your birthday surprise!</p>
            <button class="btn-primary" onclick="game.startGame()">Start Adventure üëª</button>
        </div>
    </div>

    <!-- Camera Capture Screen -->
    <div id="cameraScreen" class="screen">
        <div class="content">
            <h2>Let's capture your adventurer photo!</h2>
            <div class="camera-container">
                <video id="video" autoplay playsinline></video>
                <canvas id="canvas" style="display: none;"></canvas>
                <div id="countdown" class="countdown"></div>
                <div class="camera-oval"></div>
            </div>
            <button class="btn-primary" onclick="game.capturePhoto()">Take Photo</button>
        </div>
    </div>

    <!-- Clue Screens (1-4) -->
    <div id="clue1Screen" class="screen clue-screen">
        <div class="content">
            <h2>Clue 1</h2>
            <div class="clue-text">
                <p id="clue1Text">Your first clue will appear here...</p>
            </div>
            <div class="letter-input">
                <label>Enter the letter you found:</label>
                <input type="text" id="letter1Input" maxlength="1" class="letter-box">
                <button class="btn-primary" onclick="game.checkLetter(1)">Continue</button>
            </div>
            <div id="error1" class="error-message"></div>
        </div>
    </div>

    <div id="clue2Screen" class="screen clue-screen">
        <div class="content">
            <h2>Clue 2</h2>
            <div class="clue-text">
                <p id="clue2Text">Your second clue will appear here...</p>
            </div>
            <div class="letter-input">
                <label>Enter the letter you found:</label>
                <input type="text" id="letter2Input" maxlength="1" class="letter-box">
                <button class="btn-primary" onclick="game.checkLetter(2)">Continue</button>
            </div>
            <div id="error2" class="error-message"></div>
        </div>
    </div>

    <div id="clue3Screen" class="screen clue-screen">
        <div class="content">
            <h2>Clue 3</h2>
            <div class="clue-text">
                <p id="clue3Text">Your third clue will appear here...</p>
            </div>
            <div class="letter-input">
                <label>Enter the letter you found:</label>
                <input type="text" id="letter3Input" maxlength="1" class="letter-box">
                <button class="btn-primary" onclick="game.checkLetter(3)">Continue</button>
            </div>
            <div id="error3" class="error-message"></div>
        </div>
    </div>

    <div id="clue4Screen" class="screen clue-screen">
        <div class="content">
            <h2>Clue 4</h2>
            <div class="clue-text">
                <p id="clue4Text">Your fourth clue will appear here...</p>
            </div>
            <div class="letter-input">
                <label>Enter the letter you found:</label>
                <input type="text" id="letter4Input" maxlength="1" class="letter-box">
                <button class="btn-primary" onclick="game.checkLetter(4)">Continue</button>
            </div>
            <div id="error4" class="error-message"></div>
        </div>
    </div>

    <!-- Code Entry Screen -->
    <div id="codeScreen" class="screen">
        <div class="content">
            <h2>Final Challenge</h2>
            <p>Now arrange the 4 letters you found in the correct order!</p>
            <div class="code-input">
                <input type="text" id="code1" maxlength="1" class="code-box">
                <input type="text" id="code2" maxlength="1" class="code-box">
                <input type="text" id="code3" maxlength="1" class="code-box">
                <input type="text" id="code4" maxlength="1" class="code-box">
            </div>
            <button class="btn-primary" onclick="game.checkCode()">Unlock Final Clue</button>
            <div id="codeError" class="error-message"></div>
        </div>
    </div>

    <!-- Morse Code Final Screen -->
    <div id="morseScreen" class="screen morse-screen">
        <div class="morse-container">
            <div id="morseCircle" class="morse-circle"></div>
        </div>
        <div id="morseControls" class="morse-controls hidden">
            <button class="btn-morse" onclick="game.replayMorse()">üîÅ Replay Morse Code</button>
            <div class="morse-input-section">
                <p>Decode the message and enter it below:</p>
                <div class="morse-code-input">
                    <input type="text" id="morseCode1" maxlength="1" class="morse-box">
                    <input type="text" id="morseCode2" maxlength="1" class="morse-box">
                    <input type="text" id="morseCode3" maxlength="1" class="morse-box">
                    <input type="text" id="morseCode4" maxlength="1" class="morse-box">
                </div>
                <button class="btn-primary" onclick="game.checkMorseCode()">Submit ü©∏</button>
                <div id="morseError" class="error-message"></div>
            </div>
        </div>
        <div id="morseMessage" class="morse-message"></div>
    </div>

    <!-- Final Reveal Screen -->
    <div id="finalScreen" class="screen final-screen">
        <div class="stars"></div>
        <div class="final-content">
            <div id="scrollText" class="scroll-text hidden">
                <div class="crawl">
                    <p>Congratulations, Anyela!</p>
                    <p>I'm so sorry you don't have the grand, incredible birthday fit for the queen you are. I should have rented out Kensington Park or ordered rain machines to recreate the Mr. Darcy and Elizabeth scene in our backyard.</p>
                    <p>Anywho, I hope you've enjoyed this game and I hope you'll be able to relax at least a teeny bit today, on your oh-so special day. You are this family's glue, you keep us grounded and you have no idea how lucky we are to have you.</p>
                    <p>I hope you can hang on a teeny bit longer until our next adventure...</p>
                </div>
            </div>
            <div id="profileReveal" class="profile-reveal hidden">
                <img id="finalProfileImg" src="" alt="You!" class="final-profile-img">
            </div>
            <div id="codeReveal" class="code-reveal hidden">
                <p>Type this code into your nearest Google browser:</p>
                <div class="code-letters">
                    <span id="letter-Z" class="reveal-letter">Z</span>
                    <span id="letter-G" class="reveal-letter">G</span>
                    <span id="letter-2" class="reveal-letter">2</span>
                    <span id="letter-5" class="reveal-letter">5</span>
                </div>
            </div>
            <div id="batButton" class="bat-button-container hidden">
                <button class="btn-bat" onclick="game.revealTokyo()">ü¶á</button>
            </div>
            <div id="tokyoReveal" class="tokyo-reveal hidden">
                <div class="tokyo-words">
                    <span id="word1" class="tokyo-word">YOU'RE</span>
                    <span id="word2" class="tokyo-word">GOING</span>
                    <span id="word3" class="tokyo-word">TO</span>
                    <span id="word4" class="tokyo-word">TOKYO!</span>
                </div>
                <p class="tokyo-subtitle">*in february lmao</p>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
